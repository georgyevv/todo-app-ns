<AbsoluteLayout width="100%" height="100%">
  <GridLayout rows="*, 120" columns="*" width="100%" height="100%">
    <RadListView  #myListView
                  [items]="todoItems"
                  [rowSpan]="showAddTodo ? '1' : '2'"
                  selectionBehavior="Press"
                  (itemSwipeProgressStarted)="onSwipeCellStarted($event)"
                  swipeActions="true"
                  row="0"
                  col="0"
                  width="100%"
                  height="100%">
      <ng-template tkListItemTemplate let-item="item">
        <StackLayout orientation="vertical">
          <ns-todo-list-entry [todo]="item" (itemTap)="onItemTap($event)" (toggleComplete)="onToggleComplete($event)" (toggleFavourite)="onToggleFavourite($event)"></ns-todo-list-entry>
          <StackLayout height="1" width="95%" backgroundColor="Gray"></StackLayout>
        </StackLayout>
      </ng-template>

      <GridLayout *tkListItemSwipeTemplate columns="auto, *, auto" rows="*,2">
        <StackLayout id="mark-view" col="0" row="0" (tap)="onLeftSwipeClick($event)" class="remove-today">
          <Label text="Today" class="remove-today__action"></Label>
        </StackLayout>
        <StackLayout id="delete-view" col="2" row="0" (tap)="onRightSwipeClick($event)" class="delete">
          <Label text="delete" class="delete__action"></Label>
        </StackLayout>
      </GridLayout>

      <ListViewLinearLayout tkListViewLayout scrollDirection="Vertical" itemInsertAnimation="Default" itemDeleteAnimation="Default"></ListViewLinearLayout>
    </RadListView>

    <StackLayout row="1" col="0" *ngIf="showAddTodo">
      <ns-add-todo (addTodo)="onAddTodo($event)"></ns-add-todo>
    </StackLayout>
  </GridLayout>

  <Border [ngClass]="{ hidden: showAddTodo }" #addTodoButton (tap)="onAddTodoAction()" class="add-todo-action" width="50" height="50" cornerRadius="100">
    <Label text="&#xf067;" class="fas add-todo-action__icon"></Label>
  </Border>
</AbsoluteLayout>
